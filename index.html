<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ducale æœå¡å‹’èœå–®</title>
    <style>
        /* --- CSS å€åŸŸ --- */
        
        /* 1. å…¨åŸŸè¨­å®š */
        :root {
            --primary-color: #d35400; /* ä¸»è‰²èª¿*/
            --bg-color: #fdfbf7;      /* èƒŒæ™¯ */
            --text-color: #333;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding-bottom: 80px; /* é ç•™ç©ºé–“çµ¦åº•éƒ¨çµå¸³åˆ— */
        }

        /* 2. Hero Section */
        header {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 80px 20px;
            /* å¦‚æœä½ æœ‰åœ–ç‰‡ï¼ŒæŠŠä¸‹é¢é€™è¡Œæ‰“é–‹ */
            /* background-image: url('images/main-big.jpg'); */
            background-size: cover;
            background-position: center;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .status-badge {
            display: inline-block;
            background: #2ecc71;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-top: 10px;
        }

        /* 3. èœå–®å€ */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .section-title {
            text-align: center;
            margin: 40px 0 20px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            display: inline-block;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: 1fr; 
            gap: 20px;
        }

        @media (min-width: 600px) {
            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .menu-item {
            background: white;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .item-info h3 { margin-bottom: 5px; }
        .item-desc { font-size: 0.9rem; color: #666; }
        .item-price { font-weight: bold; color: var(--primary-color); font-size: 1.2rem; }

        /* 4. åº•éƒ¨è³‡è¨Š */
        footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            font-size: 0.9rem;
        }
        
        .btn-call {
            display: inline-block;
            margin-top: 10px;
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }

        /* 5. è³¼ç‰©è»Š/çµå¸³åˆ—æ¨£å¼ */
        .cart-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #333;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
            transform: translateY(100%); /* é è¨­éš±è— */
            transition: transform 0.3s ease-out;
            z-index: 1000;
        }

        .cart-bar.active {
            transform: translateY(0);
        }

        .total-price {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .btn-checkout {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
        }

        .add-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 10px;
        }
        .add-btn:active {
            transform: scale(0.95);
        }

        /* 6. è³¼ç‰©è»Šè©³ç´°æ¸…å–® (æŠ½å±œé¢æ¿) */
        .cart-drawer {
            position: fixed;
            bottom: 70px;
            left: 0;
            width: 100%;
            background-color: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            max-height: 0;
            overflow-y: auto;
            transition: max-height 0.3s ease-out;
            z-index: 999;
        }

        .cart-drawer.open {
            max-height: 60vh;
            border-top: 2px solid var(--primary-color);
        }

        .cart-list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            border-bottom: 1px solid #eee;
        }

        .btn-remove {
            background-color: #e74c3c;
            color: white;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 0.8rem;
            margin-left: 10px;
        }
    </style>
</head>
<body>

    <header>
        <h1>Ducale</h1> <p>æœå¡å‹’</p>
        <div id="shop-status" class="status-badge">æª¢æŸ¥ç‡Ÿæ¥­æ™‚é–“ä¸­...</div>
    </header>

    <main class="container">
        <div style="text-align: center;">
            <h2 class="section-title">ç†±é–€èœå–®</h2>
        </div>

        <div id="menu-container" class="menu-grid">
            </div>

        <div style="text-align: center;">
            <h2 class="section-title">åº—é‹ªè³‡è¨Š</h2>
            <p>ğŸ“ åœ°å€ï¼šå°å—å¸‚æ±å€æ¦®è­½è¡—121-6è™Ÿ</p>
            <p>â° ç‡Ÿæ¥­æ™‚é–“ï¼š11:30 - 20:30 (é€±æ—¥å…¬ä¼‘)</p>
            <a href="tel:2686550" class="btn-call">ğŸ“ æ‰“é›»è©±è¨‚é¤</a>
        </div>
    </main>

    <footer>
        <p>&copy; 2026 Ducale. Designed by Future Engineer.</p>
    </footer>

    <div id="cart-drawer" class="cart-drawer">
        </div>

    <div id="cart-bar" class="cart-bar">
        <div class="cart-info" onclick="toggleCart()" style="cursor: pointer;">
            <span>å·²é» <span id="total-count">0</span> ä»½é¤é» (é»æˆ‘æŸ¥çœ‹)</span>
            <span class="total-price">ç¸½è¨ˆ $<span id="total-amount">0</span></span>
            <span id="arrow-icon">ğŸ”¼</span>
        </div>
        <button class="btn-checkout" onclick="alert('è€é—†é‚„æ²’å¯«å¾Œç«¯ï¼Œè«‹ç›´æ¥è·Ÿè€é—†é»é¤ï¼XD')">ç¢ºèªé»é¤</button>
    </div>

    <script>
        // --- 1. å®šç¾©è³‡æ–™çµæ§‹ ---
        const menuData = [
            { 
                name: "å¥¶æ²¹è›¤èœŠ", 
                desc: "å¥½åƒ", 
                price: 130,
                recommended: true
            },
            { 
                name: "ç™½é…’è¦ä»", 
                desc: "å¾ˆå¥½åƒ", 
                price: 130, 
                recommended: false 
            },
            { 
                name: "ç„—çƒ¤", 
                desc: "æœ‰èµ·å¸", 
                price: 150, 
                recommended: true 
            },
            { 
                name: "é‹ç‡’", 
                desc: "å“ˆå“ˆ", 
                price: 85, 
                recommended: false 
            },
            { 
                name: "ç´…èŒ¶", 
                desc: "ä¸æ˜¯ç¶ èŒ¶", 
                price: 35, 
                recommended: false 
            },
            { 
                name: "é„­æ½”æ±¶", 
                desc: "ä¸æ˜¯å¸¥å“¥", 
                price: "éè³£å“", 
                recommended: false 
            }
        ];
    
        // --- 2. è³¼ç‰©è»Šç‹€æ…‹ ---
        let cart = []; 
        let totalAmount = 0;
    
        // --- 3. æ¸²æŸ“å‡½å¼ (åˆå§‹åŒ–èœå–®) ---
        const menuContainer = document.getElementById('menu-container');
        menuContainer.innerHTML = ''; // æ¸…ç©º
    
        menuData.forEach((item, index) => {
            // åœ–ç‰‡è™•ç† (å¦‚æœæ²’æœ‰åœ–ç‰‡å°±ä¸é¡¯ç¤º)
            const imageTag = item.image ? `<img src="${item.image}" alt="${item.name}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 5px; margin-right: 15px;">` : '';
    
            // æŒ‰éˆ•é‚è¼¯è™•ç†
            let actionButton = '';
            if (typeof item.price === 'number') {
                actionButton = `<button class="add-btn" onclick="addToCart(${index})">ï¼‹ åŠ å…¥</button>`;
            } else {
                actionButton = `<span style="color: #999; font-size: 0.8rem;">(ç´”æ¬£è³)</span>`;
            }
    
            menuContainer.innerHTML += `
                <div class="menu-item" style="${item.recommended ? 'border-left: 5px solid var(--primary-color);' : ''}">
                    ${imageTag}
                    <div class="item-info" style="flex: 1;">
                        <h3>${item.name} ${item.recommended ? 'ğŸ‘' : ''}</h3>
                        <p class="item-desc">${item.desc}</p>
                        <div style="margin-top: 10px; display: flex; justify-content: space-between; align-items: center;">
                            <span class="item-price">${typeof item.price === 'number' ? '$' + item.price : item.price}</span>
                            ${actionButton}
                        </div>
                    </div>
                </div>
            `;
        });
    
        // --- 4. é»é¤èˆ‡äº’å‹•é‚è¼¯ ---

        // åŠ å…¥è³¼ç‰©è»Š
        function addToCart(index) {
            const selectedItem = menuData[index];
            
            if (typeof selectedItem.price !== 'number') {
                alert("é€™å€‹ä¸èƒ½é»å•¦ï¼");
                return;
            }

            cart.push(selectedItem);
            recalculateAndRender();
        }

        // ç§»é™¤è³¼ç‰©è»Š
        function removeFromCart(index) {
            cart.splice(index, 1);
            recalculateAndRender();
        }

        // çµ±ä¸€è™•ç†ã€Œè¨ˆç®—é‡‘é¡ã€èˆ‡ã€Œæ›´æ–°ç•«é¢ã€
        function recalculateAndRender() {
            // 1. é‡ç®—ç¸½é‡‘é¡
            totalAmount = 0;
            cart.forEach(item => {
                totalAmount += item.price;
            });

            // 2. æ›´æ–°ä¸‹æ–¹ Bar çš„æ•¸å­—
            document.getElementById('total-count').innerText = cart.length;
            document.getElementById('total-amount').innerText = totalAmount;

            // 3. æ›´æ–°è³¼ç‰©è»ŠæŠ½å±œçš„æ¸…å–®å…§å®¹
            const drawer = document.getElementById('cart-drawer');
            drawer.innerHTML = ''; // å…ˆæ¸…ç©º

            cart.forEach((item, index) => {
                drawer.innerHTML += `
                    <div class="cart-list-item">
                        <span>${item.name}</span>
                        <div>
                            <span style="font-weight:bold;">$${item.price}</span>
                            <button class="btn-remove" onclick="removeFromCart(${index})">âœ•</button>
                        </div>
                    </div>
                `;
            });

            // 4. æ§åˆ¶ Bar çš„é¡¯ç¤º/éš±è—
            const cartBar = document.getElementById('cart-bar');
            if (cart.length > 0) {
                cartBar.classList.add('active');
            } else {
                cartBar.classList.remove('active');
                toggleCart(false); // å¼·åˆ¶é—œé–‰æŠ½å±œ
            }
        }

        // é–‹é—œè³¼ç‰©è»ŠæŠ½å±œ
        function toggleCart(forceState) {
            const drawer = document.getElementById('cart-drawer');
            const arrow = document.getElementById('arrow-icon');
            
            const isOpen = typeof forceState !== 'undefined' ? forceState : !drawer.classList.contains('open');

            if (isOpen) {
                drawer.classList.add('open');
                arrow.innerText = 'ğŸ”½'; 
            } else {
                drawer.classList.remove('open');
                arrow.innerText = 'ğŸ”¼'; 
            }
        }
    
        // --- 5. ç‡Ÿæ¥­æ™‚é–“é‚è¼¯ ---
        const now = new Date();
        const hour = now.getHours(); 
        const day = now.getDay();    
    
        const statusBadge = document.getElementById('shop-status');
        
        // é€±æ—¥(0)å…¬ä¼‘
        if (day === 0) { 
            statusBadge.innerText = "ä»Šæ—¥å…¬ä¼‘";
            statusBadge.style.background = "#7f8c8d";
        } else if (hour >= 11 && hour < 21) { 
            statusBadge.innerText = "ç‡Ÿæ¥­ä¸­ - æ­¡è¿å…‰è‡¨";
            statusBadge.style.background = "#2ecc71";
        } else {
            statusBadge.innerText = "ä¼‘æ¯ä¸­ - æ˜å¤©è¦‹";
            statusBadge.style.background = "#e74c3c";
        }
    </script>
</body>
</html>
